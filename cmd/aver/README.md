# Aver
The aver service provides endpoints on the cameras for control. 

## Environment Variables
```
GIN_MODE="debug"
PORT="8080"
LOG_LEVEL="info"
NAME="camera-services-aver"
EVENT_URL=event_hub_address
DNS_ADDR=dns_address
CAM_USERNAME=cam_username
CAM_PASSWORD=cam_password
KEY_SERVICE=address_for_key_control_service
```

## Flags
| Flag               | Shorthand | Default                               | Description                                                                        |
|--------------------|-----------|---------------------------------------|------------------------------------------------------------------------------------|
| `--port`           | `-P`      | `8080`                                | Port to run the server on.                                                         |
| `--log-level`      | `-L`      | `""` (empty)                          | Level to log at. [Refer to zapcore.Level options](https://godoc.org/go.uber.org/zap/zapcore#Level). |
| `--event-url`      |           | `""`                                  | URL to send events to.                                                             |
| `--name`           |           | `""`                                  | The name of this service to include in events generated by it.                      |
| `--dns-addr`       |           | `""`                                  | DNS server to use for reverse IP lookups.                                          |
| `--cam-username`   |           | `""`                                  | Username of the camera.                                                            |
| `--cam-password`   |           | `""`                                  | Password of the camera.                                                            |
| `--key-service`    |           | `control-keys.av.byu.edu`            | Address of the control keys service.                                               |


## Endpoints 
 Pan up
* <mark>GET</mark> `/v1/Pro520/:address/pantilt/up`

 Pan down
* <mark>GET</mark> `/v1/Pro520/:address/pantilt/down`

 Pan left
* <mark>GET</mark> `/v1/Pro520/:address/pantilt/left`

 Pan right
* <mark>GET</mark> `/v1/Pro520/:address/pantilt/right`

 Zoom in
* <mark>GET</mark> `/v1/Pro520/:address/zoom/in`

 Zoom out
* <mark>GET</mark> `/v1/Pro520/:address/zoom/out`

Preset
* <mark>GET</mark> `/v1/Pro520/:address/preset/:preset`

Stream
* <mark>GET</mark> `/v1/Pro520/:address/stream`

Reboot
* <mark>GET</mark> `/v1/Pro520/:address/reboot`

Save Preset
* <mark>GET</mark> `/v1/Pro520/:address/savvePreset/:preset`